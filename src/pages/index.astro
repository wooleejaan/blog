---
import BaseHead from "../libs/blog/BaseHead.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import PageLayoutWithHeader from "../libs/shared/components/PageLayoutWithHeader/PageLayoutWithHeader";
import PageSection from "../libs/shared/components/PageSection/PageSection";
import SearchBar from "../libs/home/feature-home-search-bar/SearchBar.astro";

const { pathname } = Astro.url;
const subpath = pathname.match(/[^\/]+/g);
const baseHref = "/";
const isHome = baseHref === pathname || baseHref === "/" + subpath?.[0];
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body>
    <PageLayoutWithHeader
      title="Scribbled Notes"
      shouldRenderHeader
      shouldRenderLinks
      client:idle
      isHomePage={isHome}
    >
      <PageSection title="Hello, World." disableTitleMarginBottom>
        <SearchBar />
      </PageSection>
    </PageLayoutWithHeader>
  </body>
</html>
